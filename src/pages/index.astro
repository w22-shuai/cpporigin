---
// 1. 获取 D1 数据库连接
const db = Astro.locals.runtime.env.cpporigin;

// 2. 查询分类表
// 对应截图：cppOriginIndex (id, maintitle)
const { results } = await db.prepare('SELECT id, maintitle FROM cppOriginIndex').all();
---

<html>
<head>
    <title>我的博客</title>
</head>
<body>
    <h1>首页 - 知识分类</h1>
    <ul>
        {results.map((item: any) => (
            <li>
                {/* 点击跳转到分类页，路径带上 id */}
                <a href={`/category/${item.id}`}>
                    {item.maintitle}
                </a>
            </li>
        ))}
    </ul>
</body>
</html>